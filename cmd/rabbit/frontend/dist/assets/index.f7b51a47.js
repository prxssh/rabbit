(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function l(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=l(s);fetch(s.href,r)}})();function X(){}function Mt(t){return t()}function st(){return Object.create(null)}function ve(t){t.forEach(Mt)}function De(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function At(t){return Object.keys(t).length===0}function it(t){return t==null?"":t}function o(t,e){t.appendChild(e)}function D(t,e,l){t.insertBefore(e,l||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function Fe(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function v(t){return document.createElement(t)}function B(t){return document.createTextNode(t)}function w(){return B(" ")}function Pe(){return B("")}function re(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Et(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function d(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Pt(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.data!==e&&(t.data=e)}function Me(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function ae(t,e,l){t.classList[l?"add":"remove"](e)}let Ee;function Ae(t){Ee=t}function Lt(){if(!Ee)throw new Error("Function called outside component initialization");return Ee}function zt(t){Lt().$$.on_destroy.push(t)}const Te=[],ze=[];let je=[];const Oe=[],Rt=Promise.resolve();let He=!1;function It(){He||(He=!0,Rt.then(Nt))}function Ge(t){je.push(t)}function Ft(t){Oe.push(t)}const Ke=new Set;let Be=0;function Nt(){if(Be!==0)return;const t=Ee;do{try{for(;Be<Te.length;){const e=Te[Be];Be++,Ae(e),Kt(e.$$)}}catch(e){throw Te.length=0,Be=0,e}for(Ae(null),Te.length=0,Be=0;ze.length;)ze.pop()();for(let e=0;e<je.length;e+=1){const l=je[e];Ke.has(l)||(Ke.add(l),l())}je.length=0}while(Te.length);for(;Oe.length;)Oe.pop()();He=!1,Ke.clear(),Ae(t)}function Kt(t){if(t.fragment!==null){t.update(),ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ge)}}function Ot(t){const e=[],l=[];je.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),je=e}const Le=new Set;let we;function Re(){we={r:0,c:[],p:we}}function Ie(){we.r||ve(we.c),we=we.p}function V(t,e){t&&t.i&&(Le.delete(t),t.i(e))}function Z(t,e,l,n){if(t&&t.o){if(Le.has(t))return;Le.add(t),we.c.push(()=>{Le.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Ht(t,e){Z(t,1,1,()=>{e.delete(t.key)})}function Gt(t,e,l,n,s,r,f,i,a,u,c,m){let p=t.length,b=r.length,y=p;const T={};for(;y--;)T[t[y].key]=y;const E=[],H=new Map,N=new Map,M=[];for(y=b;y--;){const S=m(s,r,y),O=l(S);let P=f.get(O);P?n&&M.push(()=>P.p(S,e)):(P=u(O,S),P.c()),H.set(O,E[y]=P),O in T&&N.set(O,Math.abs(y-T[O]))}const K=new Set,g=new Set;function h(S){V(S,1),S.m(i,c),f.set(S.key,S),c=S.first,b--}for(;p&&b;){const S=E[b-1],O=t[p-1],P=S.key,k=O.key;S===O?(c=S.first,p--,b--):H.has(k)?!f.has(P)||K.has(P)?h(S):g.has(k)?p--:N.get(P)>N.get(k)?(g.add(P),h(S)):(K.add(k),p--):(a(O,f),p--)}for(;p--;){const S=t[p];H.has(S.key)||a(S,f)}for(;b;)h(E[b-1]);return ve(M),E}function Ut(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function ye(t){t&&t.c()}function _e(t,e,l,n){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,l),n||Ge(()=>{const f=t.$$.on_mount.map(Mt).filter(De);t.$$.on_destroy?t.$$.on_destroy.push(...f):ve(f),t.$$.on_mount=[]}),r.forEach(Ge)}function he(t,e){const l=t.$$;l.fragment!==null&&(Ot(l.after_update),ve(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Wt(t,e){t.$$.dirty[0]===-1&&(Te.push(t),It(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,l,n,s,r,f,i=[-1]){const a=Ee;Ae(t);const u=t.$$={fragment:null,ctx:[],props:r,update:X,not_equal:s,bound:st(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:st(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};f&&f(u.root);let c=!1;if(u.ctx=l?l(t,e.props||{},(m,p,...b)=>{const y=b.length?b[0]:p;return u.ctx&&s(u.ctx[m],u.ctx[m]=y)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](y),c&&Wt(t,m)),p}):[],u.update(),c=!0,ve(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const m=Pt(e.target);u.fragment&&u.fragment.l(m),m.forEach(j)}else u.fragment&&u.fragment.c();e.intro&&V(t.$$.fragment),_e(t,e.target,e.anchor,e.customElement),Nt()}Ae(a)}class ke{$destroy(){he(this,1),this.$destroy=X}$on(e,l){if(!De(l))return X;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!At(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Yt(t){return window.go.torrent.Client.AddTorrent(t)}function qt(t){return window.go.torrent.Client.GetTorrentStats(t)}function Jt(t){return window.go.torrent.Client.RemoveTorrent(t)}function Qt(t){let e,l,n,s,r,f,i,a,u,c,m,p,b,y,T,E,H,N,M,K;return{c(){e=v("div"),l=v("div"),l.innerHTML=`<span class="logo-text svelte-vxkz8n">rabbit</span> 
    <span class="logo-subtitle svelte-vxkz8n">BitTorrent Client</span>`,n=w(),s=v("div"),r=v("div"),f=v("span"),i=B("\u2193 "),a=B(t[1]),u=w(),c=v("span"),m=B("\u2191 "),p=B(t[2]),b=w(),y=v("span"),T=B(t[0]),E=B(" torrents"),H=w(),N=v("button"),N.textContent="+ Add Torrent",d(l,"class","logo svelte-vxkz8n"),d(f,"class","stat-item svelte-vxkz8n"),d(c,"class","stat-item svelte-vxkz8n"),d(y,"class","stat-item svelte-vxkz8n"),d(r,"class","stats svelte-vxkz8n"),d(N,"class","topbar-add-button svelte-vxkz8n"),d(s,"class","topbar-actions svelte-vxkz8n"),d(e,"class","topbar svelte-vxkz8n")},m(g,h){D(g,e,h),o(e,l),o(e,n),o(e,s),o(s,r),o(r,f),o(f,i),o(f,a),o(r,u),o(r,c),o(c,m),o(c,p),o(r,b),o(r,y),o(y,T),o(y,E),o(s,H),o(s,N),M||(K=re(N,"click",function(){De(t[3])&&t[3].apply(this,arguments)}),M=!0)},p(g,[h]){t=g,h&2&&z(a,t[1]),h&4&&z(p,t[2]),h&1&&z(T,t[0])},i:X,o:X,d(g){g&&j(e),M=!1,K()}}}function Vt(t,e,l){let{torrentCount:n=0}=e,{downloadSpeed:s="0 KB/s"}=e,{uploadSpeed:r="0 KB/s"}=e,{onAddTorrent:f}=e;return t.$$set=i=>{"torrentCount"in i&&l(0,n=i.torrentCount),"downloadSpeed"in i&&l(1,s=i.downloadSpeed),"uploadSpeed"in i&&l(2,r=i.uploadSpeed),"onAddTorrent"in i&&l(3,f=i.onAddTorrent)},[n,s,r,f]}class Xt extends ke{constructor(e){super(),be(this,e,Vt,Qt,ge,{torrentCount:0,downloadSpeed:1,uploadSpeed:2,onAddTorrent:3})}}function Zt(t){let e,l,n;return{c(){e=v("div"),l=v("span"),n=B(t[0]),d(l,"class","status-text svelte-xovffd"),ae(l,"error",t[1]),ae(l,"success",t[2]),d(e,"class","statusbar svelte-xovffd")},m(s,r){D(s,e,r),o(e,l),o(l,n)},p(s,[r]){r&1&&z(n,s[0]),r&2&&ae(l,"error",s[1]),r&4&&ae(l,"success",s[2])},i:X,o:X,d(s){s&&j(e)}}}function xt(t,e,l){let{status:n="Ready"}=e,{isError:s=!1}=e,{isSuccess:r=!1}=e;return t.$$set=f=>{"status"in f&&l(0,n=f.status),"isError"in f&&l(1,s=f.isError),"isSuccess"in f&&l(2,r=f.isSuccess)},[n,s,r]}class $t extends ke{constructor(e){super(),be(this,e,xt,Zt,ge,{status:0,isError:1,isSuccess:2})}}function ot(t){let e,l=t[2].toFixed(1)+"",n,s;return{c(){e=v("span"),n=B(l),s=B("%"),d(e,"class","progress-text svelte-50so5e")},m(r,f){D(r,e,f),o(e,n),o(e,s)},p(r,f){f&4&&l!==(l=r[2].toFixed(1)+"")&&z(n,l)},d(r){r&&j(e)}}}function el(t){let e,l,n=t[1]&&t[2]>10&&ot(t);return{c(){e=v("div"),l=v("div"),n&&n.c(),d(l,"class","progress-bar svelte-50so5e"),Me(l,"width",t[2]+"%"),d(e,"class","progress-container svelte-50so5e"),Me(e,"height",t[0])},m(s,r){D(s,e,r),o(e,l),n&&n.m(l,null)},p(s,[r]){s[1]&&s[2]>10?n?n.p(s,r):(n=ot(s),n.c(),n.m(l,null)):n&&(n.d(1),n=null),r&4&&Me(l,"width",s[2]+"%"),r&1&&Me(e,"height",s[0])},i:X,o:X,d(s){s&&j(e),n&&n.d()}}}function tl(t,e,l){let n,{progress:s=0}=e,{height:r="4px"}=e,{showPercentage:f=!1}=e;return t.$$set=i=>{"progress"in i&&l(3,s=i.progress),"height"in i&&l(0,r=i.height),"showPercentage"in i&&l(1,f=i.showPercentage)},t.$$.update=()=>{t.$$.dirty&8&&l(2,n=Math.min(Math.max(s,0),100))},[r,f,n,s]}class ll extends ke{constructor(e){super(),be(this,e,tl,el,ge,{progress:3,height:0,showPercentage:1})}}function nl(t){var J,$,fe,le;let e,l,n,s,r=(((fe=($=(J=t[0])==null?void 0:J.metainfo)==null?void 0:$.info)==null?void 0:fe.name)||t[1])+"",f,i,a,u=t[2].toFixed(1)+"",c,m,p,b,y,T,E,H=rt(((le=t[0])==null?void 0:le.size)||0)+"",N,M,K,g,h,S,O,P,k,G,L,C,Y,U;return b=new ll({props:{progress:t[2],height:"6px"}}),{c(){e=v("div"),l=v("div"),n=v("div"),s=v("div"),f=B(r),i=w(),a=v("span"),c=B(u),m=B("%"),p=w(),ye(b.$$.fragment),y=w(),T=v("div"),E=v("span"),N=B(H),M=w(),K=v("span"),g=B("\u2193 "),h=B(t[3]),S=w(),O=v("span"),P=B("\u2191 "),k=B(t[4]),G=w(),L=v("button"),L.textContent="\xD7",d(s,"class","torrent-name svelte-gbomxj"),d(a,"class","torrent-progress svelte-gbomxj"),d(n,"class","torrent-header svelte-gbomxj"),d(E,"class","info-item svelte-gbomxj"),d(K,"class","info-item svelte-gbomxj"),d(O,"class","info-item svelte-gbomxj"),d(T,"class","torrent-info svelte-gbomxj"),d(l,"class","torrent-main svelte-gbomxj"),d(L,"class","remove-btn svelte-gbomxj"),d(L,"aria-label","Remove torrent"),d(e,"class","torrent-item svelte-gbomxj"),ae(e,"selected",t[5])},m(q,W){D(q,e,W),o(e,l),o(l,n),o(n,s),o(s,f),o(n,i),o(n,a),o(a,c),o(a,m),o(l,p),_e(b,l,null),o(l,y),o(l,T),o(T,E),o(E,N),o(T,M),o(T,K),o(K,g),o(K,h),o(T,S),o(T,O),o(O,P),o(O,k),o(e,G),o(e,L),C=!0,Y||(U=[re(L,"click",Et(function(){De(t[7])&&t[7].apply(this,arguments)})),re(e,"click",function(){De(t[6])&&t[6].apply(this,arguments)})],Y=!0)},p(q,[W]){var pe,x,ee,ce;t=q,(!C||W&3)&&r!==(r=(((ee=(x=(pe=t[0])==null?void 0:pe.metainfo)==null?void 0:x.info)==null?void 0:ee.name)||t[1])+"")&&z(f,r),(!C||W&4)&&u!==(u=t[2].toFixed(1)+"")&&z(c,u);const se={};W&4&&(se.progress=t[2]),b.$set(se),(!C||W&1)&&H!==(H=rt(((ce=t[0])==null?void 0:ce.size)||0)+"")&&z(N,H),(!C||W&8)&&z(h,t[3]),(!C||W&16)&&z(k,t[4]),(!C||W&32)&&ae(e,"selected",t[5])},i(q){C||(V(b.$$.fragment,q),C=!0)},o(q){Z(b.$$.fragment,q),C=!1},d(q){q&&j(e),he(b),Y=!1,ve(U)}}}function rt(t){if(t===0)return"0 B";const e=1024,l=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,n)*100)/100+" "+l[n]}function sl(t,e,l){let{id:n}=e,{torrentData:s}=e,{fileName:r}=e,{progress:f}=e,{downloadSpeed:i}=e,{uploadSpeed:a}=e,{selected:u=!1}=e,{onSelect:c}=e,{onRemove:m}=e;return t.$$set=p=>{"id"in p&&l(8,n=p.id),"torrentData"in p&&l(0,s=p.torrentData),"fileName"in p&&l(1,r=p.fileName),"progress"in p&&l(2,f=p.progress),"downloadSpeed"in p&&l(3,i=p.downloadSpeed),"uploadSpeed"in p&&l(4,a=p.uploadSpeed),"selected"in p&&l(5,u=p.selected),"onSelect"in p&&l(6,c=p.onSelect),"onRemove"in p&&l(7,m=p.onRemove)},[s,r,f,i,a,u,c,m,n]}class il extends ke{constructor(e){super(),be(this,e,sl,nl,ge,{id:8,torrentData:0,fileName:1,progress:2,downloadSpeed:3,uploadSpeed:4,selected:5,onSelect:6,onRemove:7})}}function ol(t){let e,l,n,s,r,f,i,a,u,c;return{c(){e=v("div"),l=v("div"),l.innerHTML='<svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>',n=w(),s=v("p"),s.textContent="No torrents yet",r=w(),f=v("p"),f.textContent="Drop a .torrent file anywhere or click the button below",i=w(),a=v("button"),a.textContent="+ Add Torrent",d(l,"class","empty-icon svelte-1kmwo97"),d(s,"class","empty-text svelte-1kmwo97"),d(f,"class","empty-hint svelte-1kmwo97"),d(a,"class","add-button svelte-1kmwo97"),d(e,"class","empty-state svelte-1kmwo97")},m(m,p){D(m,e,p),o(e,l),o(e,n),o(e,s),o(e,r),o(e,f),o(e,i),o(e,a),u||(c=re(a,"click",function(){De(t[0])&&t[0].apply(this,arguments)}),u=!0)},p(m,[p]){t=m},i:X,o:X,d(m){m&&j(e),u=!1,c()}}}function rl(t,e,l){let{onAddTorrent:n}=e;return t.$$set=s=>{"onAddTorrent"in s&&l(0,n=s.onAddTorrent)},[n]}class al extends ke{constructor(e){super(),be(this,e,rl,ol,ge,{onAddTorrent:0})}}function at(t,e,l){const n=t.slice();return n[1]=e[l],n}function fl(t){let e,l=t[0],n=[];for(let s=0;s<l.length;s+=1)n[s]=ut(at(t,l,s));return{c(){e=v("div");for(let s=0;s<n.length;s+=1)n[s].c();d(e,"class","peers-list svelte-vxcjpg")},m(s,r){D(s,e,r);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null)},p(s,r){if(r&1){l=s[0];let f;for(f=0;f<l.length;f+=1){const i=at(s,l,f);n[f]?n[f].p(i,r):(n[f]=ut(i),n[f].c(),n[f].m(e,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},d(s){s&&j(e),Fe(n,s)}}}function cl(t){let e;return{c(){e=v("div"),e.textContent="No connected peers",d(e,"class","peers-empty svelte-vxcjpg")},m(l,n){D(l,e,n)},p:X,d(l){l&&j(e)}}}function ft(t){let e;return{c(){e=v("span"),e.textContent="Choked",d(e,"class","peer-badge choked svelte-vxcjpg")},m(l,n){D(l,e,n)},d(l){l&&j(e)}}}function ct(t){let e;return{c(){e=v("span"),e.textContent="Interested",d(e,"class","peer-badge interested svelte-vxcjpg")},m(l,n){D(l,e,n)},d(l){l&&j(e)}}}function ut(t){let e,l,n,s=t[1].Addr+"",r,f,i,a,u,c,m,p,b,y,T=Ne(t[1].Downloaded)+"",E,H,N,M,K,g,h=Ne(t[1].Uploaded)+"",S,O,P,k,G,L,C=dt(t[1].DownloadRate)+"",Y,U,J,$,fe,le,q=Math.floor(t[1].ConnectedFor/1e9)+"",W,se,pe,x,ee,ce,ne,ie=t[1].BlocksReceived+"",ue,me,oe=t[1].BlocksFailed+"",Se,de,Q,R=t[1].IsChoked&&ft(),I=t[1].IsInterested&&ct();return{c(){e=v("div"),l=v("div"),n=v("span"),r=B(s),f=w(),i=v("div"),R&&R.c(),a=w(),I&&I.c(),u=w(),c=v("div"),m=v("div"),p=v("span"),p.textContent="\u2193 Downloaded",b=w(),y=v("span"),E=B(T),H=w(),N=v("div"),M=v("span"),M.textContent="\u2191 Uploaded",K=w(),g=v("span"),S=B(h),O=w(),P=v("div"),k=v("span"),k.textContent="\u2193 Rate",G=w(),L=v("span"),Y=B(C),U=w(),J=v("div"),$=v("span"),$.textContent="Connected",fe=w(),le=v("span"),W=B(q),se=B("s"),pe=w(),x=v("div"),ee=v("span"),ee.textContent="Blocks",ce=w(),ne=v("span"),ue=B(ie),me=B(" / "),Se=B(oe),de=B(" failed"),Q=w(),d(n,"class","peer-addr svelte-vxcjpg"),d(i,"class","peer-status svelte-vxcjpg"),d(l,"class","peer-header svelte-vxcjpg"),d(p,"class","peer-stat-label svelte-vxcjpg"),d(y,"class","peer-stat-value svelte-vxcjpg"),d(m,"class","peer-stat svelte-vxcjpg"),d(M,"class","peer-stat-label svelte-vxcjpg"),d(g,"class","peer-stat-value svelte-vxcjpg"),d(N,"class","peer-stat svelte-vxcjpg"),d(k,"class","peer-stat-label svelte-vxcjpg"),d(L,"class","peer-stat-value svelte-vxcjpg"),d(P,"class","peer-stat svelte-vxcjpg"),d($,"class","peer-stat-label svelte-vxcjpg"),d(le,"class","peer-stat-value svelte-vxcjpg"),d(J,"class","peer-stat svelte-vxcjpg"),d(ee,"class","peer-stat-label svelte-vxcjpg"),d(ne,"class","peer-stat-value svelte-vxcjpg"),d(x,"class","peer-stat svelte-vxcjpg"),d(c,"class","peer-stats svelte-vxcjpg"),d(e,"class","peer-item svelte-vxcjpg")},m(F,te){D(F,e,te),o(e,l),o(l,n),o(n,r),o(l,f),o(l,i),R&&R.m(i,null),o(i,a),I&&I.m(i,null),o(e,u),o(e,c),o(c,m),o(m,p),o(m,b),o(m,y),o(y,E),o(c,H),o(c,N),o(N,M),o(N,K),o(N,g),o(g,S),o(c,O),o(c,P),o(P,k),o(P,G),o(P,L),o(L,Y),o(c,U),o(c,J),o(J,$),o(J,fe),o(J,le),o(le,W),o(le,se),o(c,pe),o(c,x),o(x,ee),o(x,ce),o(x,ne),o(ne,ue),o(ne,me),o(ne,Se),o(ne,de),o(e,Q)},p(F,te){te&1&&s!==(s=F[1].Addr+"")&&z(r,s),F[1].IsChoked?R||(R=ft(),R.c(),R.m(i,a)):R&&(R.d(1),R=null),F[1].IsInterested?I||(I=ct(),I.c(),I.m(i,null)):I&&(I.d(1),I=null),te&1&&T!==(T=Ne(F[1].Downloaded)+"")&&z(E,T),te&1&&h!==(h=Ne(F[1].Uploaded)+"")&&z(S,h),te&1&&C!==(C=dt(F[1].DownloadRate)+"")&&z(Y,C),te&1&&q!==(q=Math.floor(F[1].ConnectedFor/1e9)+"")&&z(W,q),te&1&&ie!==(ie=F[1].BlocksReceived+"")&&z(ue,ie),te&1&&oe!==(oe=F[1].BlocksFailed+"")&&z(Se,oe)},d(F){F&&j(e),R&&R.d(),I&&I.d()}}}function ul(t){let e;function l(r,f){return r[0].length===0?cl:fl}let n=l(t),s=n(t);return{c(){s.c(),e=Pe()},m(r,f){s.m(r,f),D(r,e,f)},p(r,[f]){n===(n=l(r))&&s?s.p(r,f):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},i:X,o:X,d(r){s.d(r),r&&j(e)}}}function Ne(t){if(t===0)return"0 B";const e=1024,l=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,n)*100)/100+" "+l[n]}function dt(t){return Ne(t)+"/s"}function dl(t,e,l){let{peers:n}=e;return t.$$set=s=>{"peers"in s&&l(0,n=s.peers)},[n]}class vl extends ke{constructor(e){super(),be(this,e,dl,ul,ge,{peers:0})}}function vt(t,e,l){const n=t.slice();return n[7]=e[l],n}function pt(t,e,l){const n=t.slice();return n[10]=e[l],n[12]=l,n}function mt(t,e,l){const n=t.slice();return n[13]=e[l],n}function pl(t){let e,l;return e=new vl({props:{peers:t[2]}}),{c(){ye(e.$$.fragment)},m(n,s){_e(e,n,s),l=!0},p(n,s){const r={};s&4&&(r.peers=n[2]),e.$set(r)},i(n){l||(V(e.$$.fragment,n),l=!0)},o(n){Z(e.$$.fragment,n),l=!1},d(n){he(e,n)}}}function ml(t){var te,Ue,We,Ye,qe,Je,Qe,Ve;let e,l,n,s,r=(((te=t[4])==null?void 0:te.name)||"N/A")+"",f,i,a,u,c,m,p=((Ue=t[4])!=null&&Ue.hash?St(t[4].hash):"N/A")+"",b,y,T,E,H,N,M=Ce(((We=t[1])==null?void 0:We.size)||0)+"",K,g,h,S,O,P,k=((Ye=t[4])!=null&&Ye.pieceLength?Ce(t[4].pieceLength):"N/A")+"",G,L,C,Y,U,J,$=(((Je=(qe=t[4])==null?void 0:qe.pieces)==null?void 0:Je.length)||0)+"",fe,le,q,W,se,pe,x,ee=(Qe=t[4])!=null&&Qe.private?"Yes":"No",ce,ne,ie,ue,me,oe;function Se(_,A){if(_[3].announceList&&_[3].announceList.length>0)return hl;if(_[3].announce)return _l}let de=Se(t),Q=de&&de(t),R=t[3].createdBy&&bt(t),I=t[3].comment&&kt(t),F=((Ve=t[4])==null?void 0:Ve.files)&&t[4].files.length>0&&wt(t);return{c(){e=v("div"),l=v("div"),l.textContent="Name",n=w(),s=v("div"),f=B(r),i=w(),a=v("div"),u=v("div"),u.textContent="Info Hash",c=w(),m=v("div"),b=B(p),y=w(),T=v("div"),E=v("div"),E.textContent="Size",H=w(),N=v("div"),K=B(M),g=w(),h=v("div"),S=v("div"),S.textContent="Piece Length",O=w(),P=v("div"),G=B(k),L=w(),C=v("div"),Y=v("div"),Y.textContent="Pieces",U=w(),J=v("div"),fe=B($),le=B(" pieces"),q=w(),W=v("div"),se=v("div"),se.textContent="Private",pe=w(),x=v("div"),ce=B(ee),ne=w(),Q&&Q.c(),ie=w(),R&&R.c(),ue=w(),I&&I.c(),me=w(),F&&F.c(),oe=Pe(),d(l,"class","detail-label svelte-1o4mvxn"),d(s,"class","detail-value svelte-1o4mvxn"),d(e,"class","detail-section svelte-1o4mvxn"),d(u,"class","detail-label svelte-1o4mvxn"),d(m,"class","detail-value hash svelte-1o4mvxn"),d(a,"class","detail-section svelte-1o4mvxn"),d(E,"class","detail-label svelte-1o4mvxn"),d(N,"class","detail-value svelte-1o4mvxn"),d(T,"class","detail-section svelte-1o4mvxn"),d(S,"class","detail-label svelte-1o4mvxn"),d(P,"class","detail-value svelte-1o4mvxn"),d(h,"class","detail-section svelte-1o4mvxn"),d(Y,"class","detail-label svelte-1o4mvxn"),d(J,"class","detail-value svelte-1o4mvxn"),d(C,"class","detail-section svelte-1o4mvxn"),d(se,"class","detail-label svelte-1o4mvxn"),d(x,"class","detail-value svelte-1o4mvxn"),d(W,"class","detail-section svelte-1o4mvxn")},m(_,A){D(_,e,A),o(e,l),o(e,n),o(e,s),o(s,f),D(_,i,A),D(_,a,A),o(a,u),o(a,c),o(a,m),o(m,b),D(_,y,A),D(_,T,A),o(T,E),o(T,H),o(T,N),o(N,K),D(_,g,A),D(_,h,A),o(h,S),o(h,O),o(h,P),o(P,G),D(_,L,A),D(_,C,A),o(C,Y),o(C,U),o(C,J),o(J,fe),o(J,le),D(_,q,A),D(_,W,A),o(W,se),o(W,pe),o(W,x),o(x,ce),D(_,ne,A),Q&&Q.m(_,A),D(_,ie,A),R&&R.m(_,A),D(_,ue,A),I&&I.m(_,A),D(_,me,A),F&&F.m(_,A),D(_,oe,A)},p(_,A){var Xe,Ze,xe,$e,et,tt,lt,nt;A&16&&r!==(r=(((Xe=_[4])==null?void 0:Xe.name)||"N/A")+"")&&z(f,r),A&16&&p!==(p=((Ze=_[4])!=null&&Ze.hash?St(_[4].hash):"N/A")+"")&&z(b,p),A&2&&M!==(M=Ce(((xe=_[1])==null?void 0:xe.size)||0)+"")&&z(K,M),A&16&&k!==(k=(($e=_[4])!=null&&$e.pieceLength?Ce(_[4].pieceLength):"N/A")+"")&&z(G,k),A&16&&$!==($=(((tt=(et=_[4])==null?void 0:et.pieces)==null?void 0:tt.length)||0)+"")&&z(fe,$),A&16&&ee!==(ee=(lt=_[4])!=null&&lt.private?"Yes":"No")&&z(ce,ee),de===(de=Se(_))&&Q?Q.p(_,A):(Q&&Q.d(1),Q=de&&de(_),Q&&(Q.c(),Q.m(ie.parentNode,ie))),_[3].createdBy?R?R.p(_,A):(R=bt(_),R.c(),R.m(ue.parentNode,ue)):R&&(R.d(1),R=null),_[3].comment?I?I.p(_,A):(I=kt(_),I.c(),I.m(me.parentNode,me)):I&&(I.d(1),I=null),((nt=_[4])==null?void 0:nt.files)&&_[4].files.length>0?F?F.p(_,A):(F=wt(_),F.c(),F.m(oe.parentNode,oe)):F&&(F.d(1),F=null)},i:X,o:X,d(_){_&&j(e),_&&j(i),_&&j(a),_&&j(y),_&&j(T),_&&j(g),_&&j(h),_&&j(L),_&&j(C),_&&j(q),_&&j(W),_&&j(ne),Q&&Q.d(_),_&&j(ie),R&&R.d(_),_&&j(ue),I&&I.d(_),_&&j(me),F&&F.d(_),_&&j(oe)}}}function _l(t){let e,l,n,s,r=t[3].announce+"",f;return{c(){e=v("div"),l=v("div"),l.textContent="Tracker",n=w(),s=v("div"),f=B(r),d(l,"class","detail-label svelte-1o4mvxn"),d(s,"class","detail-value svelte-1o4mvxn"),d(e,"class","detail-section svelte-1o4mvxn")},m(i,a){D(i,e,a),o(e,l),o(e,n),o(e,s),o(s,f)},p(i,a){a&8&&r!==(r=i[3].announce+"")&&z(f,r)},d(i){i&&j(e)}}}function hl(t){let e,l,n,s,r,f=t[3].announceList,i=[];for(let a=0;a<f.length;a+=1)i[a]=gt(pt(t,f,a));return{c(){e=v("div"),l=v("div"),l.textContent="Trackers",n=w(),s=v("div"),r=v("div");for(let a=0;a<i.length;a+=1)i[a].c();d(l,"class","detail-label svelte-1o4mvxn"),d(r,"class","tracker-list svelte-1o4mvxn"),d(s,"class","detail-value svelte-1o4mvxn"),d(e,"class","detail-section svelte-1o4mvxn")},m(a,u){D(a,e,u),o(e,l),o(e,n),o(e,s),o(s,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(r,null)},p(a,u){if(u&8){f=a[3].announceList;let c;for(c=0;c<f.length;c+=1){const m=pt(a,f,c);i[c]?i[c].p(m,u):(i[c]=gt(m),i[c].c(),i[c].m(r,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=f.length}},d(a){a&&j(e),Fe(i,a)}}}function _t(t){let e,l,n,s=t[12]+1+"",r,f,i,a=t[10],u=[];for(let c=0;c<a.length;c+=1)u[c]=ht(mt(t,a,c));return{c(){e=v("div"),l=v("div"),n=B("Tier "),r=B(s),f=w();for(let c=0;c<u.length;c+=1)u[c].c();i=w(),d(l,"class","tracker-tier-label svelte-1o4mvxn"),d(e,"class","tracker-tier svelte-1o4mvxn")},m(c,m){D(c,e,m),o(e,l),o(l,n),o(l,r),o(e,f);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(e,null);o(e,i)},p(c,m){if(m&8){a=c[10];let p;for(p=0;p<a.length;p+=1){const b=mt(c,a,p);u[p]?u[p].p(b,m):(u[p]=ht(b),u[p].c(),u[p].m(e,i))}for(;p<u.length;p+=1)u[p].d(1);u.length=a.length}},d(c){c&&j(e),Fe(u,c)}}}function ht(t){let e,l=t[13]+"",n;return{c(){e=v("div"),n=B(l),d(e,"class","tracker-url svelte-1o4mvxn")},m(s,r){D(s,e,r),o(e,n)},p(s,r){r&8&&l!==(l=s[13]+"")&&z(n,l)},d(s){s&&j(e)}}}function gt(t){let e,l=t[10]&&t[10].length>0&&_t(t);return{c(){l&&l.c(),e=Pe()},m(n,s){l&&l.m(n,s),D(n,e,s)},p(n,s){n[10]&&n[10].length>0?l?l.p(n,s):(l=_t(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&j(e)}}}function bt(t){let e,l,n,s,r=t[3].createdBy+"",f;return{c(){e=v("div"),l=v("div"),l.textContent="Created By",n=w(),s=v("div"),f=B(r),d(l,"class","detail-label svelte-1o4mvxn"),d(s,"class","detail-value svelte-1o4mvxn"),d(e,"class","detail-section svelte-1o4mvxn")},m(i,a){D(i,e,a),o(e,l),o(e,n),o(e,s),o(s,f)},p(i,a){a&8&&r!==(r=i[3].createdBy+"")&&z(f,r)},d(i){i&&j(e)}}}function kt(t){let e,l,n,s,r=t[3].comment+"",f;return{c(){e=v("div"),l=v("div"),l.textContent="Comment",n=w(),s=v("div"),f=B(r),d(l,"class","detail-label svelte-1o4mvxn"),d(s,"class","detail-value svelte-1o4mvxn"),d(e,"class","detail-section svelte-1o4mvxn")},m(i,a){D(i,e,a),o(e,l),o(e,n),o(e,s),o(s,f)},p(i,a){a&8&&r!==(r=i[3].comment+"")&&z(f,r)},d(i){i&&j(e)}}}function wt(t){let e,l,n,s,r,f=t[4].files,i=[];for(let a=0;a<f.length;a+=1)i[a]=yt(vt(t,f,a));return{c(){e=v("div"),l=v("div"),l.textContent="Files",n=w(),s=v("div"),r=v("div");for(let a=0;a<i.length;a+=1)i[a].c();d(l,"class","detail-label svelte-1o4mvxn"),d(r,"class","file-list svelte-1o4mvxn"),d(s,"class","detail-value svelte-1o4mvxn"),d(e,"class","detail-section svelte-1o4mvxn")},m(a,u){D(a,e,u),o(e,l),o(e,n),o(e,s),o(s,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(r,null)},p(a,u){if(u&16){f=a[4].files;let c;for(c=0;c<f.length;c+=1){const m=vt(a,f,c);i[c]?i[c].p(m,u):(i[c]=yt(m),i[c].c(),i[c].m(r,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=f.length}},d(a){a&&j(e),Fe(i,a)}}}function yt(t){let e,l,n=t[7].path.join("/")+"",s,r,f,i=Ce(t[7].length)+"",a,u;return{c(){e=v("div"),l=v("span"),s=B(n),r=w(),f=v("span"),a=B(i),u=w(),d(l,"class","file-path svelte-1o4mvxn"),d(f,"class","file-size svelte-1o4mvxn"),d(e,"class","file-item svelte-1o4mvxn")},m(c,m){D(c,e,m),o(e,l),o(l,s),o(e,r),o(e,f),o(f,a),o(e,u)},p(c,m){m&16&&n!==(n=c[7].path.join("/")+"")&&z(s,n),m&16&&i!==(i=Ce(c[7].length)+"")&&z(a,i)},d(c){c&&j(e)}}}function gl(t){let e,l,n,s,r,f,i,a=t[2].length+"",u,c,m,p,b,y,T,E,H;const N=[ml,pl],M=[];function K(g,h){return g[0]==="details"&&g[3]?0:g[0]==="peers"?1:-1}return~(b=K(t))&&(y=M[b]=N[b](t)),{c(){e=v("div"),l=v("div"),n=v("div"),s=v("button"),s.textContent="Details",r=w(),f=v("button"),i=B("Peers ("),u=B(a),c=B(")"),m=w(),p=v("div"),y&&y.c(),d(s,"class","tab svelte-1o4mvxn"),ae(s,"active",t[0]==="details"),d(f,"class","tab svelte-1o4mvxn"),ae(f,"active",t[0]==="peers"),d(n,"class","tabs svelte-1o4mvxn"),d(l,"class","details-header svelte-1o4mvxn"),d(p,"class","details-content svelte-1o4mvxn"),d(e,"class","details-panel svelte-1o4mvxn")},m(g,h){D(g,e,h),o(e,l),o(l,n),o(n,s),o(n,r),o(n,f),o(f,i),o(f,u),o(f,c),o(e,m),o(e,p),~b&&M[b].m(p,null),T=!0,E||(H=[re(s,"click",t[5]),re(f,"click",t[6])],E=!0)},p(g,[h]){(!T||h&1)&&ae(s,"active",g[0]==="details"),(!T||h&4)&&a!==(a=g[2].length+"")&&z(u,a),(!T||h&1)&&ae(f,"active",g[0]==="peers");let S=b;b=K(g),b===S?~b&&M[b].p(g,h):(y&&(Re(),Z(M[S],1,1,()=>{M[S]=null}),Ie()),~b?(y=M[b],y?y.p(g,h):(y=M[b]=N[b](g),y.c()),V(y,1),y.m(p,null)):y=null)},i(g){T||(V(y),T=!0)},o(g){Z(y),T=!1},d(g){g&&j(e),~b&&M[b].d(),E=!1,ve(H)}}}function Ce(t){if(t===0)return"0 B";const e=1024,l=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,n)*100)/100+" "+l[n]}function St(t){return t.map(e=>e.toString(16).padStart(2,"0")).join("")}function bl(t,e,l){let n,s,{torrentData:r}=e,{peers:f}=e,{activeTab:i="details"}=e;const a=()=>l(0,i="details"),u=()=>l(0,i="peers");return t.$$set=c=>{"torrentData"in c&&l(1,r=c.torrentData),"peers"in c&&l(2,f=c.peers),"activeTab"in c&&l(0,i=c.activeTab)},t.$$.update=()=>{t.$$.dirty&2&&l(3,n=r==null?void 0:r.metainfo),t.$$.dirty&8&&l(4,s=n==null?void 0:n.info)},[i,r,f,n,s,a,u]}class kl extends ke{constructor(e){super(),be(this,e,bl,gl,ge,{torrentData:1,peers:2,activeTab:0})}}function Bt(t,e,l){const n=t.slice();return n[23]=e[l],n}function wl(t){let e=[],l=new Map,n,s,r=t[0];const f=i=>i[23].id;for(let i=0;i<r.length;i+=1){let a=Bt(t,r,i),u=f(a);l.set(u,e[i]=Tt(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();n=Pe()},m(i,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(i,a);D(i,n,a),s=!0},p(i,a){a&12291&&(r=i[0],Re(),e=Gt(e,a,f,1,i,r,l,n.parentNode,Ht,Tt,n,Bt),Ie())},i(i){if(!s){for(let a=0;a<r.length;a+=1)V(e[a]);s=!0}},o(i){for(let a=0;a<e.length;a+=1)Z(e[a]);s=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&j(n)}}}function yl(t){let e,l;return e=new al({props:{onAddTorrent:t[14]}}),{c(){ye(e.$$.fragment)},m(n,s){_e(e,n,s),l=!0},p:X,i(n){l||(V(e.$$.fragment,n),l=!0)},o(n){Z(e.$$.fragment,n),l=!1},d(n){he(e,n)}}}function Tt(t,e){let l,n,s;function r(){return e[16](e[23])}function f(){return e[17](e[23])}return n=new il({props:{id:e[23].id,torrentData:e[23].torrentData,fileName:e[23].fileName,progress:e[23].progress,downloadSpeed:e[23].downloadSpeed,uploadSpeed:e[23].uploadSpeed,selected:e[1]===e[23].id,onSelect:r,onRemove:f}}),{key:t,first:null,c(){l=Pe(),ye(n.$$.fragment),this.first=l},m(i,a){D(i,l,a),_e(n,i,a),s=!0},p(i,a){e=i;const u={};a&1&&(u.id=e[23].id),a&1&&(u.torrentData=e[23].torrentData),a&1&&(u.fileName=e[23].fileName),a&1&&(u.progress=e[23].progress),a&1&&(u.downloadSpeed=e[23].downloadSpeed),a&1&&(u.uploadSpeed=e[23].uploadSpeed),a&3&&(u.selected=e[1]===e[23].id),a&1&&(u.onSelect=r),a&1&&(u.onRemove=f),n.$set(u)},i(i){s||(V(n.$$.fragment,i),s=!0)},o(i){Z(n.$$.fragment,i),s=!1},d(i){i&&j(l),he(n,i)}}}function Ct(t){let e,l,n;function s(f){t[18](f)}let r={torrentData:t[2].torrentData,peers:t[6]};return t[7]!==void 0&&(r.activeTab=t[7]),e=new kl({props:r}),ze.push(()=>Ut(e,"activeTab",s)),{c(){ye(e.$$.fragment)},m(f,i){_e(e,f,i),n=!0},p(f,i){const a={};i&4&&(a.torrentData=f[2].torrentData),i&64&&(a.peers=f[6]),!l&&i&128&&(l=!0,a.activeTab=f[7],Ft(()=>l=!1)),e.$set(a)},i(f){n||(V(e.$$.fragment,f),n=!0)},o(f){Z(e.$$.fragment,f),n=!1},d(f){he(e,f)}}}function Sl(t){let e,l,n,s,r,f,i,a,u,c,m,p,b,y,T,E,H;l=new Xt({props:{torrentCount:t[0].length,onAddTorrent:t[14]}});const N=[yl,wl],M=[];function K(h,S){return h[0].length===0?0:1}i=K(t),a=M[i]=N[i](t);let g=t[2]&&Ct(t);return m=new $t({props:{status:t[5]||"Ready",isError:t[5].startsWith("Error"),isSuccess:t[5].startsWith("Success")}}),{c(){e=v("main"),ye(l.$$.fragment),n=w(),s=v("div"),r=v("div"),f=v("div"),a.c(),u=w(),g&&g.c(),c=w(),ye(m.$$.fragment),p=w(),b=v("input"),d(f,"class","torrent-list svelte-1c38mmh"),d(r,"class","content-layout svelte-1c38mmh"),d(s,"class","content svelte-1c38mmh"),d(b,"type","file"),d(b,"accept",".torrent"),Me(b,"display","none"),d(e,"class",y=it(t[4]?"dragging":"")+" svelte-1c38mmh")},m(h,S){D(h,e,S),_e(l,e,null),o(e,n),o(e,s),o(s,r),o(r,f),M[i].m(f,null),o(r,u),g&&g.m(r,null),o(e,c),_e(m,e,null),o(e,p),o(e,b),t[19](b),T=!0,E||(H=[re(b,"change",t[11]),re(e,"dragover",t[8]),re(e,"dragleave",t[9]),re(e,"drop",t[10])],E=!0)},p(h,[S]){const O={};S&1&&(O.torrentCount=h[0].length),l.$set(O);let P=i;i=K(h),i===P?M[i].p(h,S):(Re(),Z(M[P],1,1,()=>{M[P]=null}),Ie(),a=M[i],a?a.p(h,S):(a=M[i]=N[i](h),a.c()),V(a,1),a.m(f,null)),h[2]?g?(g.p(h,S),S&4&&V(g,1)):(g=Ct(h),g.c(),V(g,1),g.m(r,null)):g&&(Re(),Z(g,1,1,()=>{g=null}),Ie());const k={};S&32&&(k.status=h[5]||"Ready"),S&32&&(k.isError=h[5].startsWith("Error")),S&32&&(k.isSuccess=h[5].startsWith("Success")),m.$set(k),(!T||S&16&&y!==(y=it(h[4]?"dragging":"")+" svelte-1c38mmh"))&&d(e,"class",y)},i(h){T||(V(l.$$.fragment,h),V(a),V(g),V(m.$$.fragment,h),T=!0)},o(h){Z(l.$$.fragment,h),Z(a),Z(g),Z(m.$$.fragment,h),T=!1},d(h){h&&j(e),he(l),M[i].d(),g&&g.d(),he(m),t[19](null),E=!1,ve(H)}}}function jt(t){return t.map(e=>e.toString(16).padStart(2,"0")).join("")}function Bl(t){if(t===0)return"0 B";const e=1024,l=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,n)*100)/100+" "+l[n]}function Dt(t){return Bl(t)+"/s"}function Tl(t,e,l){let n,s,r=!1,f=null,i="",a=[],u=null,c=[],m=null,p="details";function b(k){k.preventDefault(),l(4,r=!0)}function y(k){k.preventDefault(),l(4,r=!1)}async function T(k){var L;k.preventDefault(),l(4,r=!1);const G=(L=k.dataTransfer)==null?void 0:L.files;if(G&&G.length>0){const C=G[0];C.name.endsWith(".torrent")?(f=C,await N(C)):l(5,i="Error: Please select a .torrent file")}}function E(k){const L=k.target.files;if(L&&L.length>0){const C=L[0];C.name.endsWith(".torrent")?(f=C,N(C)):l(5,i="Error: Please select a .torrent file")}}async function H(){var k,G,L;for(const C of a)if((L=(G=(k=C.torrentData)==null?void 0:k.metainfo)==null?void 0:G.info)!=null&&L.hash){const Y=jt(C.torrentData.metainfo.info.hash);try{const U=await qt(Y);U&&(C.progress=U.progress,C.downloadSpeed=Dt(U.downloadRate),C.uploadSpeed=Dt(U.uploadRate),u===C.id&&l(6,c=U.peers||[]))}catch(U){console.error("Failed to load stats:",U)}}l(0,a)}async function N(k){try{l(5,i=`Uploading ${k.name}...`);const G=await k.arrayBuffer(),L=new Uint8Array(G),C=await Yt(Array.from(L));l(5,i=`Success: ${k.name} added`),f=null;const Y={id:Date.now(),fileName:k.name,torrentData:C,status:"downloading",progress:0,downloadSpeed:"0 KB/s",uploadSpeed:"0 KB/s"};l(0,a=[...a,Y]),l(1,u=Y.id)}catch(G){l(5,i=`Error: ${G}`)}}async function M(k){var L,C,Y;const G=a.find(U=>U.id===k);if(G&&((Y=(C=(L=G.torrentData)==null?void 0:L.metainfo)==null?void 0:C.info)==null?void 0:Y.hash)){const U=jt(G.torrentData.metainfo.info.hash);try{await Jt(U),l(5,i="Torrent removed")}catch(J){console.error("Failed to remove torrent:",J),l(5,i="Error: Failed to remove torrent");return}}l(0,a=a.filter(U=>U.id!==k)),u===k&&l(1,u=null)}function K(k){l(1,u=u===k?null:k),l(7,p="details")}function g(){s.click()}zt(()=>{m&&clearInterval(m)});const h=k=>K(k.id),S=k=>M(k.id);function O(k){p=k,l(7,p)}function P(k){ze[k?"unshift":"push"](()=>{s=k,l(3,s)})}return t.$$.update=()=>{t.$$.dirty&3&&l(2,n=a.find(k=>k.id===u)),t.$$.dirty&4&&(n||l(6,c=[])),t.$$.dirty&32769&&(a.length>0?m||(H(),l(15,m=setInterval(H,2e3))):m&&(clearInterval(m),l(15,m=null)))},[a,u,n,s,r,i,c,p,b,y,T,E,M,K,g,m,h,S,O,P]}class Cl extends ke{constructor(e){super(),be(this,e,Tl,Sl,ge,{})}}new Cl({target:document.getElementById("app")});
